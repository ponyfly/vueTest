<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>04_综合</title>
</head>
<body>

<!--
  综合使用以下技术:
  1. 页面指令:
    v-model
    @click
    @keyup.enter
    v-for / $index
    v-text
  2. Vue对象
    初始化数据: data
    事件处理函数: methods
-->
<div id="app">
  <input type="text" @keyup.enter="addTodo" v-model="todoMsg">
  <ul v-for="(todo, index) in todos">
    <li>{{index+1}}======{{todo.name}} <button @click="removeTodo(index)">x</button></li>
  </ul>
</div>

<script type="text/javascript" src="../js/vue.js"></script>
<script type="text/javascript">
new Vue({
  el:'#app',
  data: {
    todoMsg:'',
    todos:[
      {id: 1, name: '吃饭'},
      {id: 2, name: '睡觉'},
      {id: 3, name: '打豆豆'}
    ]
  },
  methods:{
    addTodo () {
      if(!this.todoMsg){
        return;
      }
      let todo = {
        id: Date.now(),
        name:this.todoMsg
      };
      this.todos.unshift(todo);
      this.todoMsg = '';
    },
    removeTodo (index) {
      this.todos.splice(index,1)
    }
  }
})
</script>
</body>
</html>